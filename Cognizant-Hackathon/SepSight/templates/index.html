<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sepsight</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>
<body>
  <div class="overlay"></div>
    <nav class="nav navbar navbar-expand-lg navbar-light bg-white pl-5 pr-5">
        <a class="navbar-brand" href="#"><img src="/static/images/logo.png">Sep<span>sight</span></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
      
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item active">
              <a class="nav-link" href="{{url_for('index')}}">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{{url_for('patientData')}}">Patient Data</a>
            </li>
          </ul>
        </div>
      </nav>

      <div class="home ">
        <div class="container">
            <div class="row">
            <div class="col-12 col-md-6">
        <div class="mt-5">
                <h1 class="font-bold">Welcome to <span class="logocol">Sep</span><span>sight {{data}}</span></h1>
                <p class="lead">Your reliable tool for early sepsis disease prediction.</p>
                <hr class="my-4">
                <p>Sepsis is a life-threatening condition that requires early detection and prompt treatment. Sepsight provides an easy-to-use platform for doctors to input patient data, monitor vital signs, and predict the onset of sepsis using advanced algorithms.</p>
                <p>With Sepsight, you can:</p>
                <ul>
                    <li>Input and manage patient data efficiently.</li>
                    <li>Use predictive models to identify the risk of sepsis.</li>
                    <li>Access and analyze patient data in real-time.</li>
                </ul>
                <p>Start using Sepsight today to improve patient outcomes and save lives.</p>
            </div>
        </div>
    <div class="col-12 col-md-6">
        <div class="container mt-5">
              <h1 class="font-bold">Add Patient Data</h1>
            <p class="lead">Enter patient data or Add CSV to predict sepsis.</p>
            <hr class="my-4">

              

              <div class="form-group">
                <div class="add-csv text-center d-flex flex-column" data-toggle="modal" data-target="#csvprompt">
                  <i class='bx bxs-cloud-upload'></i>
                  <h3>Upload CSV</h3>
                  <p>or</p>
                </div>
                <form id = "patientForm" action="/addPatientData" method="post">

                  <label for="patient_id">Patient ID</label>
                  <input type="text" class="form-control" id="patient_id" name="patient_id" placeholder="Enter ID" required>
          
                  <label for="name">Name</label>
                  <input type="text" class="form-control" id="name" name="name" placeholder="Enter name" required>
          
                  <label for="gender">Gender</label>
                  <select class="form-control" id="gender" name="gender" required>
                      <option>Male</option>
                      <option>Female</option>
                  </select>
          
                  <label for="age">Age</label>
                  <input type="text" class="form-control" id="age" name="age" placeholder="Enter age" required>
          
                  <label for="hour">Hour</label>
                  <input type="text" class="form-control optional" id="hour" name="hour" placeholder="Enter Hour of Measurement">
          
                  <label for="hr">Heart Rate (HR)</label>
                  <input type="text" class="form-control optional" id="hr" name="hr" placeholder="Enter Heart Rate">
          
                  <label for="o2sat">Oxygen Saturation (O2Sat)</label>
                  <input type="text" class="form-control optional" id="o2sat" name="o2sat" placeholder="Enter Oxygen Saturation">
          
                  <label for="temp">Temperature (Temp)</label>
                  <input type="text" step="0.1" class="form-control optional" id="temp" name="temp" placeholder="Enter Temperature">
          
                  <label for="map">Mean Arterial Pressure (MAP)</label>
                  <input type="text" class="form-control optional" id="map" name="map" placeholder="Enter Mean Arterial Pressure">
          
                  <label for="resp">Respiratory Rate (Resp)</label>
                  <input type="text" class="form-control optional" id="resp" name="resp" placeholder="Enter Respiratory Rate">
          
                  <label for="bun">Blood Urea Nitrogen (BUN)</label>
                  <input type="text" class="form-control optional" id="bun" name="bun" placeholder="Enter Blood Urea Nitrogen">
          
                  <label for="chloride">Chloride</label>
                  <input type="text" class="form-control optional" id="chloride" name="chloride" placeholder="Enter Chloride">
          
                  <label for="creatinine">Creatinine</label>
                  <input type="text" class="form-control optional" id="creatinine" name="creatinine" placeholder="Enter Creatinine">
          
                  <label for="glucose">Glucose</label>
                  <input type="text" class="form-control optionall" id="glucose" name="glucose" placeholder="Enter Glucose">
          
                  <label for="hct">Hematocrit (Hct)</label>
                  <input type="text" class="form-control optional" id="hct" name="hct" placeholder="Enter Hematocrit">
          
                  <label for="hgb">Hemoglobin (Hgb)</label>
                  <input type="text" class="form-control optional" id="hgb" name="hgb" placeholder="Enter Hemoglobin">
          
                  <label for="wbc">White Blood Cell Count (WBC)</label>
                  <input type="text" class="form-control optional" id="wbc" name="wbc" placeholder="Enter White Blood Cell Count">
          
                  <label for="platelets">Platelet Count (Platelets)</label>
                  <input type="text" class="form-control optional" id="platelets" name="platelets" placeholder="Enter Platelet Count">
              </div>
              <input type="submit" name="clicked" class="btn btn-primary" value="Submit">
          </form>
          
        </div>
    </div>
    </div>
</div>
</div>

<div class="prompt">
  <div class="close">
      <i class='bx bx-x'></i>
  </div>
  <h1 class="font-bold">Upload Your CSV file</h1>
  <p class="lead">Your reliable tool for early sepsis disease prediction.</p>
  <hr class="my-4">
  <form action="/predictCSV" method="post" enctype="multipart/form-data">
      <input type="file" name="file" id="file" class="form-control">
      <input type="submit" name="clicked" class="btn btn-primary" value="Submit">
  </form>
</div>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    var addCsv = document.querySelector('.add-csv');
    var overlay = document.querySelector('.overlay');
    var prompt = document.querySelector('.prompt');
    var closeBtn = document.querySelector('.close');

    addCsv.addEventListener('click', function() {
        overlay.style.display = 'block';
        prompt.style.display = 'block';
    });

    closeBtn.addEventListener('click', function() {
        overlay.style.display = 'none';
        prompt.style.display = 'none';
    });

    overlay.addEventListener('click', function() {
        overlay.style.display = 'none';
        prompt.style.display = 'none';
    });
});

document.getElementById('patientForm').addEventListener('submit', function(event) {
      var optionalFields = document.querySelectorAll('.optional');
      var filledCount = 0;
      var totalOptional = optionalFields.length;

      optionalFields.forEach(function(field) {
          if (field.value.trim() !== '') {
              filledCount++;
          }
      });

      if (filledCount < Math.ceil(totalOptional / 2)) {
          event.preventDefault(); 
          alert('Please fill in at least half of the optional fields to ensure accurate prediction...');
      }
  });

</script>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1QKVRWX8y8AB7yZ0qH8qEosar3sGOcPtz7Hb9jYUYDzv7S3EehVbW6rYHIjhd3b" crossorigin="anonymous"></script>
</body>
</html>
